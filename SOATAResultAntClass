<project name="cloudtest-example">
  <description>Demonstrates incorporating SOASTA CloudTest into a nightly build.</description>
  
  <property name="cloudtest.url" value="http://target.soasta.com/concerto" />
  <property name="cloudtest.username" value="balamohan.prabhakaran@target.com" />
  <property name="cloudtest.password" value="d4819" />
  
  <property name="scommand.home" location="/SOASTAPERF/scommand" />
  
  <path id="scommand.classpath">
    <fileset dir="${scommand.home}/lib">
      <include name="*.jar" />
    </fileset>
  </path>
  
  <taskdef name="play" classname="com.soasta.tools.scommand.anttasks.PlayTask" classpathref="scommand.classpath" />
  
  <target name="play-tests" description="Plays the SOASTA CloudTest test compositions.">
    <play type="composition" name="Jenkin_CI/Composition_CI_new" url="${cloudtest.url}" username="${cloudtest.username}" 
    password="${cloudtest.password}" waitforcompletion="true" failureproperty="cloudtest.failure" />
    <fail if="cloudtest.failure" message="One or more CloudTest tests failed." />
  </target>
</project>
